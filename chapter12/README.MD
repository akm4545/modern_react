웹사이트 성능과 사용자 경험 사이의 상관관계
2019년 미국 시애틀에 있는 디지털 마케팅 에이전시 회사인 Protent의 조사

- 웹사이트의 성능이 끼치는 영향
1초 내로 로딩되는 사이트는 5초 내로 로딩되는 사이트보다 전자상거래 전환율(실제 구매로 이어지는 고객의 비율)이 2.5배 더 높다

0 ~ 5초 범위에서 1초 로딩이 늦어질수록 전환율은 4.42%씩 떨어진다 즉 5초 이상 느려지면 전환율은 20% 가까이 떨어진다

페이지 로드 시간이 0 ~ 2초 사이인 페이지에서 가장 높은 전환율을 달성할 수 있다

소비자의 70%는 페이지 속도가 온라인 커머스 사이트를 방문하는 데 영향을 미친다고 밝혔다

절반 가까운 사람이 더욱 빠르게 로딩할 수 있다면 애니메이션과 동영상이 필요 없다고 밝혔다

- 구글에서 내놓은 사이트 성능에 관한 통계
전체 웹피이지를 표시하는 데 필요한 최적의 평균 리소스 요청 수는 50회 미만이다(한 페이지를 로딩하는 데 50회 미만의 요청이 발생해야 한다)

평균적으로 웹 페이지 전체를 요청하는 데 15.3초가 걸린다

인간의 뇌와 신경계를 분석한 결과 페이지 로드 시간이 1초에서 10초로 늘어날수록 모바일 사이트를 이탈할 확률이 123% 증가한다

또한 구글은 요즘의 웹사이트의 성능에 대해 다음과 같은 글을 남겼다

전 세계의 사용자의 대부분이 모바일을 3G가 아닌 4G로 사용하고 있음에도 불구하고 대부분의 모바일 사이트는 여전히 느리고 너무 많은 요소 때문에 비대해졌다


개발자들이 성능에 크게 관심을 기울이지 않는 것 또한 사실이다

이유로는

1. 개발자의 기기는 대부분 일반적인 사용자의 평균적인 기기보다 성능이 뛰어나기 때문에 이러한 문제를 대체로 느끼지 못한다
또한 네트워크 환경도 안정적이다 따라서 웬만큼 잘못되지 않은 이상 개발자의 기기에서 성능 문제를 경험하기란 어렵다

2. 성능 개선 작업은 새로운 기능을 개발하는것보다 쉽지도, 재밌지도 않고 서비스를 개발하는 작업 대비 눈에 띄는 성능 향상을 기대하기도 어렵다는 점이다
실무 개발자들은 항상 많은 양의 업무 요청을 처리하고 버그와 씨름하고 있기 때문에 대부분의 서비스 출시를 최우선 과제로 삼는다



핵심 웹 지표
외국에서는 Core Web Vital로 알려져 있다 핵심 웹 지표는 구글에서 만든 지표로 웹사이트에서 뛰어난 사용자 경험을 제공하는 데 필수적인 지표를 일겉는 용어

구글에서 핵심 웹 지표로 꼽는 지표는 다음과 같다

최대 콘텐츠풀 페인드(LCP: Largest Contentful Paint)
최초 입력 지연(FID: First Input Delay)
누적 레이아웃 이동(CSL: Cumilative Layout Shift)

핵심 지표까지는 아니지만 특정 문제를 진단하는데 사용될 수도 있는 요소
최초 바이트까지의 시간(TTFB: Time To First Byte)
최초 콘텐츠풀 시간(FCP: First Contentful Paint)


최대 콘텐츠풀 페인트(LCP)
페이지가 처음으로 로드를 시작한 시점부터 뷰포트 내부에서 가장 큰 이미지 또는 텍스트를 렌더링하는 데 걸리는 시간
뷰포트는 사용자에게 현재 노출되는 화면을 의미 사용자에게 노출되는 영역은 기기에 의존하므로 뷰포트 크기는 기기마다 다르다

뷰포트 내부에서 큰 이미지와 텍스트는 다음과 같이 정의
<img>
<svg>내부의 <image>
poster 속성을 사용하는 <video>
url()을 통해 불러온 배경 이미지가 있는 요소
텍스트와 같이 인라인 텍스트 요소를 포함하고 있는 블록 레벨 요소
이 블록 레벨 요소에는 <p>, <div>등이 포함

요약하자면 각 엘리먼트가 등장한 시점부터 텍스트 또는 이미지가 완전히 로딩되는 시점

실제 크기가 크더라도 뷰포트 영역 밖에 넘치는 요소가 있다면 해당 영역의 크기는 고려되지 않는다
따라서 아무리 콘텐츠 높이가 길어도 최대 콘텐츠풀 페인트에 영향을 미치는 부분은 오직 뷰포트 영역뿐이다

사용자가 페이지가 어느 정도 로딩됐다고 인지하는 시점
ex) document가 1000~2000줄에 달하는 웹사이트의 경우 하단 영역은 IntersectionObserver로 구현돼 있어 아직 뷰포트에 걸치지 않아 미처 로딩돼 있지
않다고 하더라도 일단 사용자에게 노출되는 부분만 로딩돼 있다면 사용자는 페이지 로딩이 완료됐다고 느낄것이다
즉 뷰포트 영역을 기준으로 판단할 것이다

최대 콘텐츠풀 페인트에서 좋은 점수란 해당 지표가 2.5초 내로 응답이 오는 것이다 4초 이내로 응답이 온다면 보통, 그 이상이 걸리면 나쁨으로 판단


